(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{763:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",function(){return s}),n.d(t,"default",function(){return u});n(10),n(11),n(7),n(14),n(13),n(0);var a=n(104),r=n(767),c=n(3),i=n(12);var s={},l={_frontmatter:s},o=r.a;function u(e){var t=e.components,n=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["components"]);return Object(a.c)(o,Object.assign({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.c)("p",null,"Events are a mechanism supporting decoupled communication between components. They are part of the underlying ",Object(a.c)(c.m,{href:"/development/api",mdxType:"Link"},"API abstract class")," meaning they are available to all child classes. The usage for Events is simple and familiar."),Object(a.c)("p",null,"On a given service, you can subscribe to a topic using the ",Object(a.c)("inlineCode",{parentName:"p"},"on()")," method, or you can fire an event using ",Object(a.c)("inlineCode",{parentName:"p"},"trigger()"),"."),Object(a.c)("p",null,"The best example of this is the usage as part of the ",Object(a.c)(c.m,{href:"/architecture/authentication",mdxType:"Link"},"authentication flow"),"."),Object(a.c)("p",null,"In a number of the methods within the Auth API, the ",Object(a.c)("inlineCode",{parentName:"p"},"trigger()")," method is called."),Object(a.c)("pre",null,Object(a.c)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"this.trigger('auth_updated', {\n    method: 'switch_context',\n    data: {\n        user: body.data.user,\n        business: body.data.business,\n        refresh_token: body.data.tokens.refresh,\n        access_token: body.data.tokens.access,\n    }\n});\n")),Object(a.c)(c.r,{as:"p",mb:3,fontSize:1,color:"gray.5",mdxType:"Text"},Object(a.c)(c.m,{href:"https://github.com/xedi/sdk-js/blob/master/src/Services/Auth.ts#L144",mdxType:"Link"},"Auth.switchContexts",Object(a.c)(i.g,{ml:2,mdxType:"LinkExternalIcon"}))),Object(a.c)("p",null,"Subscribing to the ",Object(a.c)("inlineCode",{parentName:"p"},"auth_updated")," topic is also as straightforward as this."),Object(a.c)("pre",null,Object(a.c)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"Xedi.Auth.on('auth_updated', (event) => {\n    console.log(`Auth state updated by ${ event.model }`);\n    console.log(`Current user: ${ event.data.user.first_name });\n    if (event.data.hasOwnProperty('business')) {\n        console.log(`Current business: ${ event.data.business.name }`);\n    }\n});\n")),Object(a.c)(c.i,{mdxType:"Flash"},Object(a.c)(i.e,{mr:2,mdxType:"InfoIcon"}),"These are not DOMEvents, nor do they implement the JavaScript Event interface."))}u.isMDXComponent=!0},767:function(e,t,n){"use strict";var a=n(104),r=n(3),c=n(47),i=n(0),s=n.n(i),l=n(46),o=n(118),u=n(120),m=n(119);function d(e){var t=e.items,n=s.a.useContext(a.a),r=n.ul,c=void 0===r?"ul":r,i=n.li,l=void 0===i?"li":i,o=n.a,u=void 0===o?"a":o;return s.a.createElement(c,null,t.map(function(e){return s.a.createElement(l,{key:e.url},s.a.createElement(u,{href:e.url},e.title),e.items?s.a.createElement(d,{items:e.items}):null)}))}var p=function(e){var t=e.items,n=s.a.useContext(a.a).h2,r=void 0===n?"h2":n;return s.a.createElement(s.a.Fragment,null,s.a.createElement(r,null,"Table of contents"),s.a.createElement(d,{items:t}))},h=n(170);t.a=function(e){var t=e.children,n=e.pageContext,i=s.a.useContext(a.a).h1,d=void 0===i?"h1":i;return s.a.createElement(r.j,{flexDirection:"column",minHeight:"100vh"},s.a.createElement(o.a,{title:n.frontmatter.title,description:n.frontmatter.description}),s.a.createElement(u.a,null),s.a.createElement(r.j,{flex:"1 1 auto",flexDirection:"row"},s.a.createElement(r.e,{display:["none",null,null,"block"]},s.a.createElement(m.a,null)),s.a.createElement(l.a,null,s.a.createElement(d,null,n.frontmatter.title),n.frontmatter.status?s.a.createElement(r.e,{mb:4},s.a.createElement(h.a,{status:n.frontmatter.status})):null,n.tableOfContents.items?s.a.createElement(p,{items:n.tableOfContents.items}):null,t,n.editUrl?s.a.createElement(r.e,{my:6},s.a.createElement(r.m,{href:n.editUrl},s.a.createElement(r.q,{icon:c.e,mr:2}),"Edit this page on GitHub")):null)))}}}]);
//# sourceMappingURL=component---content-development-events-mdx-a4547d84665da2e10b22.js.map